import{r as b,_ as I,j as s,a as e,n as P,d as o}from"./app-75ecb23e.js";import{M as T,S as D,D as w}from"./SecondaryButton-1a158e62.js";import{I as j}from"./InputError-06ff46e9.js";import{T as C,a as m,b as n,c as l,P as A}from"./Tr-483d6310.js";import{P as g}from"./PrimaryButton-f9cb5f16.js";import{T as M}from"./TextInput-35942232.js";import{A as B}from"./AuthenticatedLayout-5d652a0d.js";import{M as E,P as Y,a as q,T as F,A as G}from"./index-968e51c1.js";import"./transition-47a1610c.js";import"./ApplicationLogo-fff1849c.js";function V(r){const[N,h]=b.useState(!1),{data:u,setData:c,get:f,delete:x,processing:y,reset:p,hasErrors:v}=I({id:"",search:""}),d=()=>{h(!1),p()},S=a=>{a.preventDefault(),x(route("employee.destroy",u.id),{preserveScroll:!0,onSuccess:()=>d(),onFinish:()=>p()})},k=a=>{a.preventDefault();const t=u.search.trim();t?f(route("employee.index",{q:t}),{preserveScroll:!0,onSuccess:i=>{c(i)}}):f(route("employee.index"),{preserveScroll:!0,onSuccess:i=>{c(i)}})};return s(B,{auth:r.auth,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Staff Sekolah"}),session:r.session,children:[e(P,{title:"Staff Sekolah"}),s("div",{className:"grid grid-cols-1 md:grid-cols-2 p-10",children:[s("form",{onSubmit:k,className:"flex gap-3",children:[e(M,{id:"search",type:"search",placeholder:"Pencarian...",onChange:a=>c("search",a.target.value)}),s(g,{children:[e(E,{className:"h-5 mr-2"}),"Cari"]})]}),e("div",{className:"flex mt-5 md:mt-0 justify-center md:justify-end",children:e(o,{href:route("employee.create"),children:s(g,{children:[e(Y,{className:"w-5 mr-3"})," Tambah"]})})})]}),e("div",{className:"",children:e("div",{className:"overflow-x-auto",children:e("div",{className:"p-1.5 w-full inline-block align-middle",children:s("div",{className:"overflow-x-auto p-5 md:p-10",children:[s(C,{children:[e("thead",{children:s(m,{children:[e(n,{children:"No."}),e(n,{children:"NIP/Nomor Identitas"}),e(n,{children:"Nama"}),e(n,{children:"Email"}),e(n,{children:"Aksi"})]})}),e("tbody",{children:r.employees.data.length>0?r.employees.data.map((a,t)=>s(m,{children:[e(l,{children:r.employees.from+t}),e(l,{children:a.NIP}),e(l,{children:a.user.name}),e(l,{children:a.user.email}),s(l,{className:"flex gap-3",children:[e(o,{className:"hover:bg-gray-200 p-2 ",href:route("employee.edit",a.id),children:e(q,{className:"h-5"})}),e(o,{className:"hover:bg-gray-200 p-2 ",onClick:i=>{i.preventDefault(),c("id",a.id),h(!0)},children:e(F,{className:"h-5 text-red-400"})}),e(o,{className:"hover:bg-gray-200 p-2 ",href:route("employee.show",a.id),children:e(G,{className:"h-5"})})]})]},t)):e(m,{children:e(l,{colSpan:5,className:"text-center",children:"Tidak ada staff ditemukan."})})})]}),e(A,{className:"mt-5",data:r.employees})]})})})}),e(T,{show:N,onClose:d,children:s("form",{onSubmit:S,className:"p-6",children:[e("h2",{className:"text-lg font-medium text-gray-900",children:"Yakin hapus?"}),e("p",{className:"mt-1 text-sm text-gray-600",children:"Ketika dihapus, semua data sekolah ini akan dihapus secara permanen."}),v&&e(j,{message:"Oops! Sepertinya ada kesalahan"}),s("div",{className:"mt-6 flex justify-end",children:[e(D,{onClick:d,children:"Batal"}),e(w,{className:"ml-3",disabled:y,children:"Ya, Hapus!"})]})]})})]})}export{V as default};
