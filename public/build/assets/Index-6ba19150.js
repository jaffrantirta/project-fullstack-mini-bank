import{r as I,_ as T,j as s,a as e,n as k,d}from"./app-75ecb23e.js";import{M as P,S as D,D as w}from"./SecondaryButton-1a158e62.js";import{I as j}from"./InputError-06ff46e9.js";import{T as C,a as h,b as l,c as t,P as A}from"./Tr-483d6310.js";import{P as g}from"./PrimaryButton-f9cb5f16.js";import{T as M}from"./TextInput-35942232.js";import{A as B}from"./AuthenticatedLayout-5d652a0d.js";import{M as E,P as Y,a as q,T as F,A as G}from"./index-968e51c1.js";import"./transition-47a1610c.js";import"./ApplicationLogo-fff1849c.js";function V(r){const[N,m]=I.useState(!1),{data:u,setData:c,get:f,delete:x,processing:S,reset:p,hasErrors:y}=T({id:"",search:""}),o=()=>{m(!1),p()},v=a=>{a.preventDefault(),x(route("student.destroy",u.id),{preserveScroll:!0,onSuccess:()=>o(),onFinish:()=>p()})},b=a=>{a.preventDefault();const n=u.search.trim();n?f(route("student.index",{q:n}),{preserveScroll:!0,onSuccess:i=>{c(i)}}):f(route("student.index"),{preserveScroll:!0,onSuccess:i=>{c(i)}})};return s(B,{auth:r.auth,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Siswa Sekolah"}),session:r.session,children:[e(k,{title:"Staff Sekolah"}),s("div",{className:"grid grid-cols-1 md:grid-cols-2 p-10",children:[s("form",{onSubmit:b,className:"flex gap-3",children:[e(M,{id:"search",type:"search",placeholder:"Pencarian...",onChange:a=>c("search",a.target.value)}),s(g,{children:[e(E,{className:"h-5 mr-2"}),"Cari"]})]}),e("div",{className:"flex mt-5 md:mt-0 justify-center md:justify-end",children:e(d,{href:route("student.create"),children:s(g,{children:[e(Y,{className:"w-5 mr-3"})," Tambah"]})})})]}),s("div",{className:"overflow-x-auto p-5 md:p-10",children:[s(C,{children:[e("thead",{children:s(h,{children:[e(l,{children:"No."}),e(l,{children:"NIS"}),e(l,{children:"Nama"}),e(l,{children:"Email"}),e(l,{children:"Aksi"})]})}),e("tbody",{children:r.students.data.length>0?r.students.data.map((a,n)=>s(h,{children:[e(t,{children:r.students.from+n}),e(t,{children:a.NIS}),e(t,{children:a.user.name}),e(t,{children:a.user.email}),s(t,{className:"flex gap-3",children:[e(d,{className:"hover:bg-gray-200 p-2 ",href:route("student.edit",a.id),children:e(q,{className:"h-5"})}),e(d,{className:"hover:bg-gray-200 p-2 ",onClick:i=>{i.preventDefault(),c("id",a.id),m(!0)},children:e(F,{className:"h-5 text-red-400"})}),e(d,{className:"hover:bg-gray-200 p-2 ",href:route("student.show",a.id),children:e(G,{className:"h-5"})})]})]},n)):e(h,{children:e(t,{colSpan:5,className:"text-center",children:"Tidak ada data."})})})]}),e(A,{className:"mt-5",data:r.students})]}),e(P,{show:N,onClose:o,children:s("form",{onSubmit:v,className:"p-6",children:[e("h2",{className:"text-lg font-medium text-gray-900",children:"Yakin hapus?"}),e("p",{className:"mt-1 text-sm text-gray-600",children:"Ketika dihapus, semua data siswa ini akan dihapus secara permanen."}),y&&e(j,{message:"Oops! Sepertinya ada kesalahan"}),s("div",{className:"mt-6 flex justify-end",children:[e(D,{onClick:o,children:"Batal"}),e(w,{className:"ml-3",disabled:S,children:"Ya, Hapus!"})]})]})})]})}export{V as default};
