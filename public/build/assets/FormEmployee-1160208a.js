import{_,j as t,a as e}from"./app-75ecb23e.js";import{I as o}from"./InputError-06ff46e9.js";import{I as r}from"./InputLabel-4142342c.js";import{P as I}from"./PrimaryButton-f9cb5f16.js";import{T as n}from"./TextInput-35942232.js";import{C}from"./Checkbox-5ff02efc.js";import{t as F}from"./transition-47a1610c.js";function M({className:p,isUpdate:f=!1,...l}){var c,d,h,u;const{data:s,setData:m,errors:i,post:g,put:v,reset:y,processing:x,recentlySuccessful:N}=_({name:((c=l.employee)==null?void 0:c.user.name)||"",nip:((d=l.employee)==null?void 0:d.NIP)||"",email:((h=l.employee)==null?void 0:h.user.email)||"",school_ids:((u=l.employee)==null?void 0:u.schools.map(a=>a.id))||[]});return console.log(l),t("section",{className:p,children:[t("header",{children:[e("h2",{className:"text-lg font-medium text-gray-900",children:"Staff Sekolah"}),e("p",{className:"mt-1 text-sm text-gray-600",children:"Masukan data staff sekolah"})]}),t("form",{onSubmit:a=>{a.preventDefault(),f?v(route("employee.update",l.employee.id),{preserveScroll:!0}):g(route("employee.store"),{preserveScroll:!0,onSuccess:()=>y()})},className:"mt-6 space-y-6",children:[t("div",{children:[e(r,{htmlFor:"name",value:"Nama"}),e(n,{id:"name",value:s.name,onChange:a=>m("name",a.target.value),type:"text",className:"mt-1 block w-full"}),e(o,{message:i.name,className:"mt-2"})]}),t("div",{children:[e(r,{htmlFor:"nip",value:"Nomor Identitas"}),e(n,{id:"nip",value:s.nip,onChange:a=>m("nip",a.target.value),type:"text",className:"mt-1 block w-full"}),e(o,{message:i.nip,className:"mt-2"})]}),t("div",{children:[e(r,{htmlFor:"email",value:"Email"}),e(n,{id:"email",value:s.email,onChange:a=>m("email",a.target.value),type:"text",className:"mt-1 block w-full"}),e(o,{message:i.email,className:"mt-2"})]}),t("div",{children:[e(r,{htmlFor:"school_ids",value:"Pilih sekolah"}),l.schools.map(a=>t("label",{className:"flex items-center",children:[e(C,{name:"school_ids",value:a.id,checked:s.school_ids.includes(a.id),onChange:k=>{const b=k.target.checked;m("school_ids",b?[...s.school_ids,a.id]:s.school_ids.filter(S=>S!==a.id))}}),e("span",{className:"ml-2 text-sm text-gray-600",children:a.name})]},a.id)),e(o,{message:i.school_ids,className:"mt-2"})]}),t("div",{className:"flex items-center gap-4",children:[e(I,{disabled:x,children:"Simpan"}),e(F,{show:N,enterFrom:"opacity-0",leaveTo:"opacity-0",className:"transition ease-in-out",children:e("p",{className:"text-sm text-gray-600",children:"Tersimpan."})})]})]})]})}export{M as default};
