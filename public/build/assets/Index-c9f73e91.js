import{r as b,_ as T,j as a,a as e,n as P,d}from"./app-75ecb23e.js";import{M as D,S as I,D as j}from"./SecondaryButton-1a158e62.js";import{I as C}from"./InputError-06ff46e9.js";import{T as M,a as g,b as c,c as i,P as A}from"./Tr-483d6310.js";import{P as x}from"./PrimaryButton-f9cb5f16.js";import{T as B}from"./TextInput-35942232.js";import{A as w}from"./AuthenticatedLayout-5d652a0d.js";import{M as E,P as H,a as Y,T as q}from"./index-968e51c1.js";import"./transition-47a1610c.js";import"./ApplicationLogo-fff1849c.js";function U(r){const[h,m]=b.useState(!1),{data:u,setData:n,get:f,delete:N,processing:y,reset:p,hasErrors:S}=T({id:"",search:""}),o=()=>{m(!1),p()},v=s=>{s.preventDefault(),N(route("school.destroy",u.id),{preserveScroll:!0,onSuccess:()=>o(),onFinish:()=>p()})},k=s=>{s.preventDefault();const t=u.search.trim();t?f(route("school.index",{q:t}),{preserveScroll:!0,onSuccess:l=>{n(l)}}):f(route("school.index"),{preserveScroll:!0,onSuccess:l=>{n(l)}})};return a(w,{auth:r.auth,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:h?"Hapus Sekolah":"Sekolah"}),session:r.session,children:[e(P,{title:"Sekolah"}),a("div",{className:"grid grid-cols-1 md:grid-cols-2 p-10",children:[a("form",{onSubmit:k,className:"flex gap-3",children:[e(B,{id:"search",type:"search",placeholder:"Pencarian...",onChange:s=>n("search",s.target.value)}),a(x,{children:[e(E,{className:"h-5 mr-2"}),"Cari"]})]}),e("div",{className:"flex mt-5 md:mt-0 justify-center md:justify-end",children:e(d,{href:route("school.create"),children:a(x,{children:[e(H,{className:"w-5 mr-3"})," Tambah"]})})})]}),a("div",{className:"overflow-x-auto p-5 md:p-10",children:[a(M,{children:[e("thead",{children:a(g,{children:[e(c,{children:"No."}),e(c,{children:"Nama"}),e(c,{children:"Alamat"}),e(c,{children:"Aksi"})]})}),e("tbody",{children:r.schools.data.map((s,t)=>a(g,{children:[e(i,{children:r.schools.from+t}),e(i,{children:s.name}),e(i,{children:s.address}),a(i,{className:"flex gap-3",children:[e(d,{className:"hover:bg-gray-200 p-2 ",href:route("school.edit",s.id),children:e(Y,{className:"h-5"})}),e(d,{className:"hover:bg-gray-200 p-2 ",onClick:l=>{l.preventDefault(),n("id",s.id),m(!0)},children:e(q,{className:"h-5 text-red-400"})})]})]},t))})]}),e(A,{className:"mt-5",data:r.schools})]}),e(D,{show:h,onClose:o,children:a("form",{onSubmit:v,className:"p-6",children:[e("h2",{className:"text-lg font-medium text-gray-900",children:"Yakin hapus?"}),e("p",{className:"mt-1 text-sm text-gray-600",children:"Ketika dihapus, semua data sekolah ini akan dihapus secara permanen."}),S&&e(C,{message:"Oops! Sepertinya ada kesalahan"}),a("div",{className:"mt-6 flex justify-end",children:[e(I,{onClick:o,children:"Batal"}),e(j,{className:"ml-3",disabled:y,children:"Ya, Hapus!"})]})]})})]})}export{U as default};
