import{r as k,_ as P,j as s,a as e,n as D,d}from"./app-75ecb23e.js";import{M as I,S as j,D as C}from"./SecondaryButton-1a158e62.js";import{I as M}from"./InputError-06ff46e9.js";import{T as w,a as m,b as l,c as r,P as B}from"./Tr-483d6310.js";import{P as p}from"./PrimaryButton-f9cb5f16.js";import{T as A}from"./TextInput-35942232.js";import{A as E}from"./AuthenticatedLayout-5d652a0d.js";import{M as K,P as H,a as Y,T as q}from"./index-968e51c1.js";import"./transition-47a1610c.js";import"./ApplicationLogo-fff1849c.js";function V(t){const[x,h]=k.useState(!1),{data:u,setData:i,get:f,delete:N,processing:y,reset:g,hasErrors:v,errors:S}=P({id:"",search:"",message:""}),o=()=>{h(!1),g()},T=a=>{a.preventDefault(),N(route("classroom.destroy",u.id),{preserveScroll:!0,onSuccess:()=>o(),onFinish:()=>g()})},b=a=>{a.preventDefault();const n=u.search.trim();n?f(route("classroom.index",{q:n}),{preserveScroll:!0,onSuccess:c=>{i(c)}}):f(route("classroom.index"),{preserveScroll:!0,onSuccess:c=>{i(c)}})};return s(E,{auth:t.auth,session:t.session,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Kelas"}),children:[e(D,{title:"Kelas"}),s("div",{className:"grid grid-cols-1 md:grid-cols-2 p-10",children:[s("form",{onSubmit:b,className:"flex gap-3",children:[e(A,{id:"search",type:"search",placeholder:"Pencarian...",onChange:a=>i("search",a.target.value)}),s(p,{children:[e(K,{className:"h-5 mr-2"}),"Cari"]})]}),e("div",{className:"flex mt-5 md:mt-0 justify-center md:justify-end",children:e(d,{href:route("classroom.create"),children:s(p,{children:[e(H,{className:"w-5 mr-3"})," Tambah"]})})})]}),s("div",{className:"overflow-x-auto p-5 md:p-10",children:[s(w,{children:[e("thead",{children:s(m,{children:[e(l,{children:"No."}),e(l,{children:"Kelas"}),e(l,{children:"Nama"}),e(l,{children:"Tahun"}),e(l,{children:"Sekolah"}),e(l,{children:"Aksi"})]})}),e("tbody",{children:t.classrooms.data.length>0?t.classrooms.data.map((a,n)=>s(m,{children:[e(r,{children:t.classrooms.from+n}),e(r,{children:a.class}),e(r,{children:a.name}),e(r,{children:a.year}),e(r,{children:a.school.name}),s(r,{className:"flex gap-3",children:[e(d,{className:"hover:bg-gray-200 p-2 ",href:route("classroom.edit",a.id),children:e(Y,{className:"h-5"})}),e(d,{className:"hover:bg-gray-200 p-2 ",onClick:c=>{c.preventDefault(),i("id",a.id),h(!0)},children:e(q,{className:"h-5 text-red-400"})})]})]},n)):e(m,{children:e(r,{colSpan:5,className:"text-center",children:"Tidak ada data."})})})]}),e(B,{className:"mt-5",data:t.classrooms})]}),e(I,{show:x,onClose:o,children:s("form",{onSubmit:T,className:"p-6",children:[e("h2",{className:"text-lg font-medium text-gray-900",children:"Yakin hapus?"}),e("p",{className:"mt-1 text-sm text-gray-600",children:"Hanya bisa menghapus kelas yang tidak memiliki siswa."}),v&&e(M,{message:S.message}),s("div",{className:"mt-6 flex justify-end",children:[e(j,{onClick:o,children:"Batal"}),e(C,{className:"ml-3",disabled:y,children:"Ya, Hapus!"})]})]})})]})}export{V as default};
